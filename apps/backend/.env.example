# Backend environment variables
# Local dev: use .env.development in this folder (backend loads it when NODE_ENV=development).
# Production (Render): set these in Render Dashboard → Service → Environment.

# Server Configuration
PORT=3000
NODE_ENV=development

# Database/Storage
# When set, backend uses MongoDB (Atlas); otherwise file-based (data/users.json or temp on Render).
# See MONGODB_SETUP.md in repo root for setup steps.
MONGODB_URI=mongodb+srv://user:pass@cluster0.xxxxx.mongodb.net/tripmaker?retryWrites=true&w=majority
USER_DB_PATH=data/users.json
# USER_DB_PATH=  # On Render, backend uses temp path when RENDER is set

# CORS Configuration (comma-separated; add your Render frontend URL in production)
CORS_ORIGINS=http://localhost:5173,http://localhost:4173

# JWT Authentication
# Development: JWT_SECRET is auto-generated if not set
# Production (Render): JWT_SECRET is REQUIRED – set in Render Dashboard
# Generate: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_EXPIRES_IN=7d

# Cloudflare R2 (MVP3.6 – media in chat). Optional; image upload works when set.
# Local: add to .env.development. Production: set in Render Dashboard.
R2_ACCOUNT_ID=your-cloudflare-account-id
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key
R2_BUCKET_NAME=tripmaker-media

# Trip Agent (MVP4 – AI trip planning). Optional; when unset, /trips/agent/chat uses static planner.
# Tried in order: Groq first (fast), then Gemini (if key set). If both fail, static plan + agentUnavailable.
# Gemini (free tier): https://aistudio.google.com/apikey
GEMINI_API_KEY=your-gemini-api-key
# Or: TRIP_AGENT_PROVIDER=gemini + TRIP_AGENT_API_KEY=your-gemini-api-key
# Groq (free tier, fallback): https://console.groq.com/keys
GROQ_API_KEY=your-groq-api-key
# Optional: Groq model (default: llama-3.3-70b-versatile). Use if your key only has access to another model.
# GROQ_MODEL=llama-3.3-70b-versatile
# Optional: timeouts (defaults: 8s per adapter and per fetch)
# TRIP_AGENT_ADAPTER_TIMEOUT_MS=14000
# TRIP_AGENT_FETCH_TIMEOUT_MS=12000
